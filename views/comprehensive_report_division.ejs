<%- include('partials/header'); -%>
<h3>Institution User's Report</h3>
<div class="overflow-scroll">
<table>
    <tr>
        <th>DIVISION ID</th>
        <th>INSTITUTION ID</th>
        <th>INSTITUTION NAME</th>
        <th>KHATHA OR PROPERTY NUMBER</th>
        <th>PID</th>
        <th>YEAR</th>
        <th>DIMENSION OF VACANT AREA IN SQFT</th>
        <th>DIMENSION OF BUILDING AREA IN SQFT</th>
        <th>TOTAL DIMENSION IN SQFT</th>
        <th>USAGE OF BUILDING</th>
        <th>PROPERTY TAX</th>
        <th>REBATE</th>
        <th>SERVICE CHARGES</th>
        <th>CESSES</th>
        <th>INTEREST</th>
        <th>TOTAL AMOUNT</th>
        <th>TO WHICH DEPARTMENT PAID</th>
        <th>RECEIPT NO / DATE</th>
        <th>REMARKS</th>
    </tr>
    <% division_institution_payment_details.forEach((entry)=>{ %>
        <tr>
            <td><%=entry.division_id%></td>
            <td><%=entry.institution_id%></td>
            <td><%=entry.institution_name%></td>
            <td><%=entry.khatha_or_property_no%></td>
            <td><%=entry.pid%></td>
            <td><%=entry.payment_year%></td>
            <td><%=entry.dimension_of_vacant_area_sqft%></td>
            <td><%=entry.dimension_of_building_area_sqft%></td>
            <td><%=entry.total_dimension_in_sqft%></td>
            <td><%=entry.usage_of_building%></td>
            <td><%=entry.property_tax%></td>
            <td><%=entry.rebate%></td>
            <td><%=entry.service_tax%></td>
            <td><%=entry.cesses%></td>
            <td><%=entry.interest%></td>
            <td><%=entry.total_amount%></td>
            <td><%=entry.to_which_department_paid%></td>
            <td><%=entry.receipt_no_or_date%></td>
            <td><%=entry.remarks%></td>
        </tr>

    <% }) %>

</table>
</div>
<button id="print-report" class="btn btn-primary">Print Report</button>
<style>
    @media print {
    body {
        font-family: Arial, sans-serif;
        font-size: 10px; /* Adjust font size for better fitting */
    }

    table {
        width: 100%;
        border-collapse: collapse;
    }

    th, td {
        border: 1px solid #000;
        padding: 2px 4px; /* Reduced padding to make it compact */
        text-align: left;
    }

    th {
        background-color: #f4f4f4;
    }

    .overflow-scroll {
        overflow: visible; /* Ensure full content is visible */
    }

    .btn {
        display: none; /* Hide the button during print */
    }
}
</style>
<script>
    // Add an event listener to the print button
    document.getElementById("print-report").addEventListener("click", function() {
        // Trigger the browser's print dialog
        window.print();
    });
</script>
<%- include('partials/footer'); -%>